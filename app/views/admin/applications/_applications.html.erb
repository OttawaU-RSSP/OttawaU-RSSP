<div class="table-responsive">
  <table class="table table-bordered">
    <thead>
      <tr>
        <th>Group</th>
        <th>City</th>
        <th>Province</th>
        <th>Status</th>
        <th>Lawyer</th>
        <th>Student</th>
      </tr>
    </thead>
    <tbody>
      <% applications.each do |application| %>
        <tr>
          <th scope="row"><%= link_to application.sponsor_group.name, admin_application_path(application) %></th>
          <td><%= application.sponsor_group.city %></td>
          <td><%= application.sponsor_group.province %></td>
          <td><%= application.state.humanize %></td>
          <%= form_for [:admin, Assignee.new] do |form| %>
            <%= form.hidden_field :application_id, value: application.id %>
            <td><%= form.select :user_id, options_from_collection_for_select(Lawyer.approved, :id, :name), selected: application.lawyer.try(:id), prompt: "Select..." %><%= form.submit "Assign" %></td>
          <% end %>
          <%= form_for [:admin, Assignee.new] do |form| %>
            <%= form.hidden_field :application_id, value: application.id %>
            <td><%= form.select :user_id, options_from_collection_for_select(Student.approved, :id, :name), selected: application.students.first.try(:id), prompt: "Select..." %><%= form.submit "Assign" %></td>
          <% end %>
        </tr>
      <% end %>
      <%= will_paginate applications %>
    </tbody>
  </table>
</div>
